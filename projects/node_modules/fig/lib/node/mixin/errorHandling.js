var outcome = require('outcome');

/**
 * handles error
 */


module.exports = {

	/**
	 */

	'errorEl': '.alert-message',
	
	/**
	 */

	'successCb': function(callback) {
		return this.outcome().success(callback);
	},

	/**
	 */

	'outcome': function() {
		return this._outcome || outcome.error(this.getMethod('onError'));
	},

	/**
	 * called when an error happens remotely
	 */

	'onError': function(err) {
		// console.log(this.$())
		// this.$(ths.errorEl).alert('close')
		this.$(this.errorEl).find('.message').html(err.message);
		// this.$(this.errorEl).css({'display':'block'});
		this.$(this.errorEl).slideDown(200);

		var self = this;

		setTimeout(function() {
			self.$(self.errorEl).slideUp(200);//.css({'display':'none'});
		}, 1000 * 5);
	}
	
	 
};