// Generated by CoffeeScript 1.6.3
var appRoutes, mojo, redirect, router;

router = require("./router");

mojo = require("mojojs");

appRoutes = require("./app");

router.addRoutes(appRoutes);

mojo.mediator.on("redirect", redirect = function(path) {
  var loc;
  return window.location = loc = ("/#!/" + router.getPath(path)).replace(/\/+/g, "/");
  /*debug
    console.log("redirect", window.location)
  */

});

mojo.mediator.on("pre initialize", function(next) {
  /*debug
    console.log("initializing routes")
  */

  router.init();
  return next();
});
