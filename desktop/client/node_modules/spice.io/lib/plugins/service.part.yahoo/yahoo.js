
net = require('psk/node/io/net'),
URLRequest = net.Request;

var Yahoo = function(auth, secret)
{
	
	
	this.private = {
		yql:function(query, callback)
		{
			var request = new URLRequest('http://query.yahooapis.com/v1/yql');
			request.data = { q: escape(query), format: 'json' };
			request.build();
			
			auth.get(request.builtUrl, { secret: secret }, null, function (err, result)
			{
				try
				{
					callback(false,JSON.parse(result));
				}
				catch(e)
				{
					callback(err);
				}
			})
		}
	}
	
	/*var fsapi = 'http://fantasysports.yahooapis.com/fantasy/v2/';
	
	this.fantasySports = {
		players:function(secret)
		{
			var request = new URLRequest(fsapi+'users;use_login=1');
			
			auth.get(request.url, { secret: secret }, null, function (err, result)
			{
				console.log(err)
				console.log(result)
			});
		}
	}	
		this.fantasySports.players(secret)*/
	
}

exports.Yahoo = Yahoo;