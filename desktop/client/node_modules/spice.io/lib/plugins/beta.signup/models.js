

module.exports = function(db)
{
	var Schema = db.base.Schema;

	var BetaUser = new Schema({

		//user who invited the friend
		inviter: String,

		//grant authorization on inviter data
		grant: [],
	
		//path to the group
		email: { type: String, index: { unique: true } },

		//the profile ID associated with the beta user IF signed up
		profileId: String,
		
		//when did the user signup?
		createdAt: { type: Date, default: Date.now },
		
		//access token which allows users to signup
		signupToken: String,

		//token used to refer,
		priority: Number
	}, { strict: true });


	var SignupToken = new Schema({
		key: String,
		betaUser: String,
		profile: String
	}, { strict: true })


	return {
		BetaUser: db.model('beta.users', BetaUser),
		SignupToken: db.model('signup.tokens', SignupToken)
	}
}

